include src/components/mixins

doctype html
html(lang=lang, dir=dir)
	head
		meta(charset="UTF-8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		title= t.meta.title
		meta(name="description", content=t.meta.description)
		link(rel="stylesheet", href="src/main.css")

	body.search_plugin_added
		//- Hero Section
		.hero
			h1= t.hero.title
			p.subtitle= t.hero.subtitle

		//- Progressive Disclosure Section
		+section(t.sections.disclosure.title)
			.comparison-grid
				+badColumn(t.sections.disclosure.js_title, t.sections.disclosure.js_badge, t.sections.disclosure.js_warning)
					+jsCollapsible("content1", "Custom Collapsible Architecture", t.sections.disclosure.js_content1)
					+jsCollapsible("content2", "State Management Challenges", t.sections.disclosure.js_content2)
					+consList(t.sections.disclosure.js_cons_title, t.sections.disclosure.js_cons)

				+goodColumn(t.sections.disclosure.native_title, t.sections.disclosure.native_badge, t.sections.disclosure.native_note)
					details(name="architecture")
						summary= t.sections.disclosure.native_semantic_title
						div= t.sections.disclosure.native_semantic_content

					details(name="architecture")
						summary= t.sections.disclosure.native_enhancement_title
						div= t.sections.disclosure.native_enhancement_content

					details(name="architecture")
						summary= t.sections.disclosure.native_performance_title
						div= t.sections.disclosure.native_performance_content

					+prosList(t.sections.disclosure.native_pros_title, t.sections.disclosure.native_pros)

		//- Modal Section
		+section(t.sections.modals.title)
			.comparison-grid
				+badColumn(t.sections.modals.js_title, t.sections.modals.js_badge, t.sections.modals.js_warning)
					button(onclick="openJSModal()")= t.sections.modals.js_button

					#jsModal.js-modal-overlay
						.js-modal-content
							h4= t.sections.modals.js_modal_title
							p= t.sections.modals.js_modal_content
							p
								strong= t.sections.modals.js_modal_issue
							button(onclick="closeJSModal()")= t.sections.modals.js_modal_close

					+consList(t.sections.modals.js_cons_title, t.sections.modals.js_cons)

				+goodColumn(t.sections.modals.native_title, t.sections.modals.native_badge, t.sections.modals.native_note)
					button(onclick="document.getElementById('nativeDialog').showModal()")= t.sections.modals.native_button

					dialog#nativeDialog
						h4= t.sections.modals.native_dialog_title
						p= t.sections.modals.native_dialog_content
						p
							strong= t.sections.modals.native_dialog_advantage
						button(onclick="document.getElementById('nativeDialog').close()")= t.sections.modals.native_dialog_close

					+prosList(t.sections.modals.native_pros_title, t.sections.modals.native_pros)

		//- Form Validation Section
		+section(t.sections.validation.title)
			.comparison-grid
				+badColumn(t.sections.validation.js_title, t.sections.validation.js_badge, t.sections.validation.js_warning)
					form(onsubmit="return validateJSForm(event)")
						+formGroup(t.sections.validation.js_email_label)
							input#js-email(name="email", type="text")
							#email-error.js-error= t.sections.validation.js_email_error

						+formGroup(t.sections.validation.js_regex_label)
							input#js-regex(name="uuid", type="text")
							#regex-error.js-error= t.sections.validation.js_regex_error

						button(type="submit")= t.sections.validation.js_submit

					+consList(t.sections.validation.js_cons_title, t.sections.validation.js_cons)

				+goodColumn(t.sections.validation.native_title, t.sections.validation.native_badge, t.sections.validation.native_note)
					form
						+formGroup(t.sections.validation.native_email_label)
							input#native-email(name="email", type="email", placeholder=t.sections.validation.native_email_placeholder, required)

						+formGroup(t.sections.validation.native_uuid_label)
							input#native-uuid(
								name="uuid",
								type="text",
								pattern="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
								placeholder=t.sections.validation.native_uuid_placeholder,
								title=t.sections.validation.native_uuid_title,
								required
							)

						+formGroup(t.sections.validation.native_api_label)
							input#native-api(name="api", type="url", placeholder=t.sections.validation.native_api_placeholder)

						button(type="submit")= t.sections.validation.native_submit

					+prosList(t.sections.validation.native_pros_title, t.sections.validation.native_pros)

		//- Progress Section
		+section(t.sections.progress.title)
			.comparison-grid
				+badColumn(t.sections.progress.js_title, t.sections.progress.js_badge, t.sections.progress.js_warning)
					.js-progress-container
						#jsProgress.js-progress-bar

					p= t.sections.progress.js_text + " "
						span#jsProgressText 0%
					button(onclick="startJSProgress()")= t.sections.progress.js_button

					+consList(t.sections.progress.js_cons_title, t.sections.progress.js_cons)

				+goodColumn(t.sections.progress.native_title, t.sections.progress.native_badge, t.sections.progress.native_note)
					p= t.sections.progress.native_compilation
					progress(max="100", value="75")= t.sections.progress.native_compilation_text

					p= t.sections.progress.native_indeterminate
					progress= t.sections.progress.native_indeterminate_text

					p= t.sections.progress.native_dynamic + " "
						span#nativeProgressText 0%
					progress#nativeProgress(max="100", value="0") 0%
					button(onclick="startNativeProgress()")= t.sections.progress.native_button

					+prosList(t.sections.progress.native_pros_title, t.sections.progress.native_pros)

		//- Temporal Input Section
		+section(t.sections.temporal.title)
			.comparison-grid
				+badColumn(t.sections.temporal.js_title, t.sections.temporal.js_badge, t.sections.temporal.js_warning)
					+formGroup(t.sections.temporal.js_label)
						input#js-date(type="text", placeholder=t.sections.temporal.js_placeholder, readonly, onclick="openDatePicker()")
						#datePicker(style="display: none; position: absolute; background: white; border: 1px solid #ccc; z-index: 1000")
							p(style="padding: 20px; color: #666")= t.sections.temporal.js_picker_content

					+consList(t.sections.temporal.js_cons_title, t.sections.temporal.js_cons)

				+goodColumn(t.sections.temporal.native_title, t.sections.temporal.native_badge, t.sections.temporal.native_note)
					+formGroup(t.sections.temporal.native_release_label)
						input#native-date(name="date", type="date", value="2024-12-15", min="2024-01-01", max="2025-12-31")

					+formGroup(t.sections.temporal.native_timestamp_label)
						input#native-datetime(name="datetime", type="datetime-local", step="1")

					+formGroup(t.sections.temporal.native_window_label)
						input#native-time(name="time", type="time", min="02:00", max="18:00", step="900")

					+prosList(t.sections.temporal.native_pros_title, t.sections.temporal.native_pros)

		//- Fieldset Section
		+section(t.sections.fieldset.title)
			.comparison-grid
				+badColumn(t.sections.fieldset.js_title, t.sections.fieldset.js_badge, t.sections.fieldset.js_warning)
					.js-form-section
						.js-section-title Shipping Address
						.js-section-content
							+formGroup("Street")
								input(type="text", placeholder="123 Main St")
							+formGroup("City")
								input(type="text", placeholder="New York")

					+consList(t.sections.fieldset.js_cons_title, t.sections.fieldset.js_cons)

				+goodColumn(t.sections.fieldset.native_title, t.sections.fieldset.native_badge, t.sections.fieldset.native_note)
					fieldset
						legend Shipping Address
						+formGroup("Street")
							input(type="text", placeholder="123 Main St")
						+formGroup("City")
							input(type="text", placeholder="New York")

					fieldset(disabled)
						legend Billing Address (disabled)
						+formGroup("Street")
							input(type="text", placeholder="All inputs disabled")
						+formGroup("City")
							input(type="text", placeholder="Via fieldset")

					+prosList(t.sections.fieldset.native_pros_title, t.sections.fieldset.native_pros)

		//- Output Section
		+section(t.sections.output.title)
			.comparison-grid
				+badColumn(t.sections.output.js_title, t.sections.output.js_badge, t.sections.output.js_warning)
					.js-calculator
						label Quantity:
						input#js-qty(type="number", value="1", min="1", oninput="updateJsTotal()")
						span Ã—
						label Price: $
						input#js-price(type="number", value="29.99", step="0.01", oninput="updateJsTotal()")
						.js-result
							span Total: $
							span#js-total 29.99

					+consList(t.sections.output.js_cons_title, t.sections.output.js_cons)

				+goodColumn(t.sections.output.native_title, t.sections.output.native_badge, t.sections.output.native_note)
					form.native-calculator(oninput="nativeTotal.value = (nativeQty.valueAsNumber * nativePrice.valueAsNumber).toFixed(2)")
						+formGroup("Quantity")
							input#nativeQty(type="number", value="1", min="1")
						+formGroup("Price ($)")
							input#nativePrice(type="number", value="29.99", step="0.01")
						.output-display
							label(for="nativeTotal") Total: $
							output#nativeTotal(for="nativeQty nativePrice") 29.99

					+prosList(t.sections.output.native_pros_title, t.sections.output.native_pros)

		//- Meter Section
		+section(t.sections.meter.title)
			.comparison-grid
				+badColumn(t.sections.meter.js_title, t.sections.meter.js_badge, t.sections.meter.js_warning)
					.js-gauge-container
						.js-gauge-track
							.js-gauge-fill(style="width: 70%; background: #f59e0b")
						.js-gauge-label 70% - No semantic meaning

					+consList(t.sections.meter.js_cons_title, t.sections.meter.js_cons)

				+goodColumn(t.sections.meter.native_title, t.sections.meter.native_badge, t.sections.meter.native_note)
					+formGroup(t.sections.meter.native_disk_label)
						meter(value="0.7", min="0", max="1", low="0.25", high="0.75", optimum="0.5")

					+formGroup(t.sections.meter.native_battery_label)
						meter(value="0.25", min="0", max="1", low="0.25", high="0.75", optimum="1")

					+formGroup(t.sections.meter.native_score_label)
						meter(value="0.92", min="0", max="1", low="0.25", high="0.75", optimum="1")

					+prosList(t.sections.meter.native_pros_title, t.sections.meter.native_pros)

		//- Figure Section
		+section(t.sections.figure.title)
			.comparison-grid
				+badColumn(t.sections.figure.js_title, t.sections.figure.js_badge, t.sections.figure.js_warning)
					.js-image-container
						.js-image-placeholder ðŸ“·
						.js-image-caption A custom caption with no semantic association

					+consList(t.sections.figure.js_cons_title, t.sections.figure.js_cons)

				+goodColumn(t.sections.figure.native_title, t.sections.figure.native_badge, t.sections.figure.native_note)
					figure
						.figure-placeholder ðŸ“·
						figcaption A semantic caption automatically associated with the figure content

					figure
						pre
							code const greeting = "Hello, World!";
						figcaption Code example with semantic caption

					+prosList(t.sections.figure.native_pros_title, t.sections.figure.native_pros)

		//- Popover Section
		+section(t.sections.popover.title)
			.comparison-grid
				+badColumn(t.sections.popover.js_title, t.sections.popover.js_badge, t.sections.popover.js_warning)
					button(onclick="toggleJsPopover()")= t.sections.popover.js_button
					#jsPopover.js-popover(style="display: none")
						| Custom popover with manual positioning and dismiss logic

					+consList(t.sections.popover.js_cons_title, t.sections.popover.js_cons)

				+goodColumn(t.sections.popover.native_title, t.sections.popover.native_badge, t.sections.popover.native_note)
					button(popovertarget="nativePopover")= t.sections.popover.native_button
					#nativePopover(popover)
						h4= t.sections.popover.native_popover_title
						p= t.sections.popover.native_popover_content

					+prosList(t.sections.popover.native_pros_title, t.sections.popover.native_pros)

		//- Color Picker Section
		+section(t.sections.color.title)
			.comparison-grid
				+badColumn(t.sections.color.js_title, t.sections.color.js_badge, t.sections.color.js_warning)
					+formGroup(t.sections.color.js_label)
						.js-color-picker
							.js-color-preview(style="background: #3b82f6")
							input(type="text", value="#3b82f6", readonly)

					+consList(t.sections.color.js_cons_title, t.sections.color.js_cons)

				+goodColumn(t.sections.color.native_title, t.sections.color.native_badge, t.sections.color.native_note)
					+formGroup(t.sections.color.native_primary_label)
						input(type="color", value="#3b82f6")

					+formGroup(t.sections.color.native_accent_label)
						input(type="color", value="#f59e0b")

					+formGroup(t.sections.color.native_bg_label)
						input(type="color", value="#1e293b")

					+prosList(t.sections.color.native_pros_title, t.sections.color.native_pros)

		//- Range Slider Section
		+section(t.sections.range.title)
			.comparison-grid
				+badColumn(t.sections.range.js_title, t.sections.range.js_badge, t.sections.range.js_warning)
					+formGroup(t.sections.range.js_label)
						.js-slider-container
							.js-slider-track
								.js-slider-thumb(style="left: 50%")
							input(type="hidden", value="50")

					+consList(t.sections.range.js_cons_title, t.sections.range.js_cons)

				+goodColumn(t.sections.range.native_title, t.sections.range.native_badge, t.sections.range.native_note)
					+formGroup(t.sections.range.native_volume_label)
						input(type="range", min="0", max="100", value="50")

					+formGroup(t.sections.range.native_brightness_label)
						input(type="range", min="0", max="100", value="75", style="accent-color: #f59e0b")

					+formGroup(t.sections.range.native_quality_label)
						input(type="range", min="1", max="5", value="3", step="1", list="quality-ticks")
						datalist#quality-ticks
							option(value="1", label="Low")
							option(value="2")
							option(value="3", label="Medium")
							option(value="4")
							option(value="5", label="High")

					+prosList(t.sections.range.native_pros_title, t.sections.range.native_pros)

		//- Autocomplete Section
		+section(t.sections.autocomplete.title)
			.comparison-grid
				+badColumn(t.sections.autocomplete.js_title, t.sections.autocomplete.js_badge, t.sections.autocomplete.js_warning)
					+formGroup(t.sections.autocomplete.js_label)
						input#js-search(type="text", placeholder=t.sections.autocomplete.js_placeholder, autocomplete="off", onkeyup="filterCities(this.value)")
						#js-results(
							style="display: none; position: absolute; background: var(--color-card); border: 1px solid var(--color-border); max-height: 200px; overflow-y: auto; z-index: 100"
						)

					+consList(t.sections.autocomplete.js_cons_title, t.sections.autocomplete.js_cons)

				+goodColumn(t.sections.autocomplete.native_title, t.sections.autocomplete.native_badge, t.sections.autocomplete.native_note)
					+formGroup(t.sections.autocomplete.native_cities_label)
						input#native-cities(type="text", list="cities", placeholder=t.sections.autocomplete.native_cities_placeholder)
						datalist#cities
							//- Europe
							option(value="Berlin") Berlin - Germany
							option(value="Paris") Paris - France
							option(value="London") London - United Kingdom
							option(value="Rome") Rome - Italy
							option(value="Madrid") Madrid - Spain
							option(value="Kyiv") Kyiv - Ukraine
							//- North America
							option(value="Washington D.C.") Washington D.C. - United States
							option(value="Ottawa") Ottawa - Canada
							option(value="Mexico City") Mexico City - Mexico
							//- South America
							option(value="BrasÃ­lia") BrasÃ­lia - Brazil
							option(value="Buenos Aires") Buenos Aires - Argentina
							option(value="Lima") Lima - Peru
							option(value="Santiago") Santiago - Chile
							option(value="BogotÃ¡") BogotÃ¡ - Colombia
							option(value="Caracas") Caracas - Venezuela
							option(value="Montevideo") Montevideo - Uruguay
							//- Asia
							option(value="Tokyo") Tokyo - Japan
							option(value="Beijing") Beijing - China
							option(value="New Delhi") New Delhi - India
							option(value="Seoul") Seoul - South Korea
							option(value="Bangkok") Bangkok - Thailand
							option(value="Jakarta") Jakarta - Indonesia
							option(value="Manila") Manila - Philippines
							option(value="Hanoi") Hanoi - Vietnam
							option(value="Singapore") Singapore - Singapore
							option(value="Kuala Lumpur") Kuala Lumpur - Malaysia
							//- Africa & Middle East
							option(value="Cairo") Cairo - Egypt
							option(value="Pretoria") Pretoria - South Africa
							//- Oceania
							option(value="Canberra") Canberra - Australia
							option(value="Wellington") Wellington - New Zealand

					+formGroup(t.sections.autocomplete.native_language_label)
						input#native-language(type="text", list="languages", placeholder=t.sections.autocomplete.native_language_placeholder)
						datalist#languages
							option(value="JavaScript", label="JavaScript - Dynamic scripting")
							option(value="TypeScript", label="TypeScript - Typed JavaScript")
							option(value="Python", label="Python - General purpose")
							option(value="Rust", label="Rust - Systems programming")
							option(value="Go", label="Go - Concurrent systems")
							option(value="WebAssembly", label="WebAssembly - High-performance web")
							option(value="C", label="C - Low-level systems")
							option(value="C++", label="C++ - High-performance systems")
							option(value="C#", label="C# - .NET ecosystem")
							option(value="Java", label="Java - Cross-platform enterprise")
							option(value="Kotlin", label="Kotlin - Modern JVM language")
							option(value="Swift", label="Swift - iOS and macOS")
							option(value="Ruby", label="Ruby - Web development (Rails)")
							option(value="PHP", label="PHP - Server-side scripting")
							option(value="Perl", label="Perl - Text processing")
							option(value="Haskell", label="Haskell - Functional programming")
							option(value="Elixir", label="Elixir - Scalable applications")
							option(value="Dart", label="Dart - Web and mobile apps")
							option(value="Scala", label="Scala - Functional JVM language")
							option(value="Lua", label="Lua - Lightweight scripting")
							option(value="R", label="R - Statistical computing")
							option(value="Julia", label="Julia - High-performance computing")
							option(value="Shell", label="Shell - Command-line scripting")
							option(value="MATLAB", label="MATLAB - Engineering and science")

					+prosList(t.sections.autocomplete.native_pros_title, t.sections.autocomplete.native_pros)

		//- Summary Section
		.summary-box
			h3= t.summary.title
			p= t.summary.content

			p
				strong= t.summary.approach_title
			ul(style="text-align: left; max-width: 600px; margin: 2rem auto")
				each item in t.summary.approach_items
					li= item

			p= t.summary.closing

			.zen-quote= t.summary.quote

		script.
			// JavaScript functions
			const cities = ['Berlin', 'Paris', 'London', 'Rome', 'Madrid', 'Kyiv', 'Tokyo', 'Beijing', 'Seoul', 'Bangkok', 'Jakarta', 'Manila', 'Hanoi', 'Singapore', 'Buenos Aires', 'Lima', 'Santiago', 'BogotÃ¡', 'Cairo', 'Pretoria'];

			function filterCities(value) {
				const results = document.getElementById('js-results');
				if (!value) {
					results.style.display = 'none';
					return;
				}
				const filtered = cities.filter(c => c.toLowerCase().includes(value.toLowerCase()));
				results.innerHTML = filtered.map(c => `<div style="padding:8px; cursor:pointer;" onclick="selectCity('${c}')">${c}</div>`).join('');
				results.style.display = filtered.length ? 'block' : 'none';
			}

			function selectCity(city) {
				document.getElementById('js-search').value = city;
				document.getElementById('js-results').style.display = 'none';
			}

			function startNativeProgress() {
				const progress = document.getElementById('nativeProgress');
				const text = document.getElementById('nativeProgressText');
				let value = 0;
				const interval = setInterval(() => {
					value += Math.random() * 15;
					if (value >= 100) {
						value = 100;
						clearInterval(interval);
					}
					progress.value = value;
					text.textContent = Math.round(value) + '%';
				}, 200);
			}

			function toggleContent(id) {
				document.getElementById(id).classList.toggle("active");
			}

			function openJSModal() {
				document.getElementById('jsModal').style.display = 'flex';
			}

			function closeJSModal() {
				document.getElementById('jsModal').style.display = 'none';
			}

			function validateJSForm(event) {
				event.preventDefault();
				alert('Custom validation would run here');
				return false;
			}

			function startJSProgress() {
				const bar = document.getElementById('jsProgress');
				const text = document.getElementById('jsProgressText');
				let width = 0;
				const interval = setInterval(() => {
					width += Math.random() * 15;
					if (width >= 100) {
						width = 100;
						clearInterval(interval);
					}
					bar.style.width = width + '%';
					text.textContent = Math.round(width) + '%';
				}, 200);
			}

			function openDatePicker() {
				const picker = document.getElementById('datePicker');
				picker.style.display = picker.style.display === 'none' ? 'block' : 'none';
			}

			function toggleJsPopover() {
				const popover = document.getElementById('jsPopover');
				popover.style.display = popover.style.display === 'none' ? 'block' : 'none';
			}

			function updateJsTotal() {
				const qty = document.getElementById('js-qty').value || 0;
				const price = document.getElementById('js-price').value || 0;
				document.getElementById('js-total').textContent = (qty * price).toFixed(2);
			}
